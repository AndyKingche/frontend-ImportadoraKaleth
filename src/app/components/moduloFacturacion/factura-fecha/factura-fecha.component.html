<div class="preloaderConsulta" *ngIf="isloading">
    <div class="spinConsulta">
        <div class="cube1Consulta"></div>
        <div class="cube2Consulta"></div>
    </div>
</div>


<div class="card" style="margin-top: 10px;">
    <div class="tittle__izq p-d-inline-flex p-ai-center">
        <i class="fas fa-file-pdf" style="margin-top: 10px; margin-left: 10px;">
        </i>
        <b>Lista de las facturas </b>
    </div>

    <div class="header titulo">

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    <label id="lblFechaDesde" class="letter" for="lblFechaDesde">Fecha Desde:</label>
                </div>
                <div class="col-md-2">
                    <p-calendar [locale]="es" [ngModelOptions]="{standalone: true}" [(ngModel)]="this.i" [monthNavigator]="true" [yearNavigator]="true" yearRange="2005:2060" dateFormat="yy-mm-dd" inputId="navigators">
                    </p-calendar>
                </div>
                <div class="col-md-2">
                    <label id="lblFechaHasta" class="letter" for="lblFechaHasta">Fecha Hasta:</label>
                </div>
                <div class="col-md-2">
                    <p-calendar [locale]="es" [ngModelOptions]="{standalone: true}" [(ngModel)]="this.f" [monthNavigator]="true" [yearNavigator]="true" yearRange="2005:2060" dateFormat="yy-mm-dd" inputId="navigators">
                    </p-calendar>

                </div>
                <div class="col-md-4">
                    <button (click)="getfacturaFecha()" class="boton__dere btn btn-primary">Consultar</button>

                    <button (click)="imprimirfacturaFecha()" class="boton__dere btn btn-primary">Imprimir</button>

                </div>
            </div>
        </div>






    </div>


    <p-table #dt2 [value]="facturafecha" [responsive]="true" selectionMode="single" [(selection)]="selectedFactura" dataKey="id" styleClass="p-datatable-responsive" [rows]="10" [paginator]="true" stateStorage="local" stateKey="statedemo-local">
        <ng-template pTemplate="header">
            <tr>
                <th class="card__word--header">Numero de Factura
                </th>
                <th class="card__word--header">Fecha Venta
                </th>
                <th class="card__word--header">Total de Venta
                </th>
                <th class="card__word--header">Estado
                </th>
                <th class="card__word--header">Cajero
                </th>
                <th class="card__word--header">Cliente
                </th>
                <th class="card__word--header">Ver
                </th>
            </tr>

        </ng-template>
        <ng-template pTemplate="body" let-factura>
            <tr [pSelectableRow]="factura">
                <td class="card__word--row">
                    <span class="p-column-title">Numero de Factura</span> {{factura.idCabezaFac}}
                </td>
                <td class="card__word--row">
                    <span class="p-column-title">Fecha Venta</span> {{factura.fechaFactu}}
                </td>
                <td class="card__word--row">
                    <span class="p-column-title">Total de Venta</span> {{factura.total}}
                </td>
                <td class="card__word--row">
                    <span class="p-column-title">Estado</span> {{factura.estado}}
                </td>
                <td class="card__word--row">
                    <span class="p-column-title">Cajero</span> {{factura.usUser.nombre}} {{factura.usUser.apellido}}
                </td>
                <td class="card__word--row">
                    <span class="p-column-title">Cliente</span> {{factura.venCliente.nombreCli}} {{factura.venCliente.apellidoCli}}
                </td>

                <td><span class="p-column-title">Ver</span><button pButton pRipple icon="pi pi-eye" class="p-button-rounded p-button-info" (click)="mostrarTicket(factura.idCabezaFac)"></button>
                </td>


            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="7">No encontro Usuarios</td>
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            <div class="container-fluid">


                <div class="row">
                    <div class="col-md-1">
                    </div>
                    <div class="col-md-1">
                    </div>
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-1">
                    </div>
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-2" style="text-align: right;">
                        <label for="PrecioDis">TOTAL $</label>
                    </div>
                    <div class="col-md-2"> <input type="text" class="form-control" [(ngModel)]="this.totalVenta" placeholder="Total">
                    </div>
                </div>

            </div>

        </ng-template>
    </p-table>
</div>